### Data Model `22%`

##### 与えられたシナリオに従って、適切なデータモデルを決定する

##### 与えられたシナリオに従って、下記の機能を説明する

- 各種リレーション種別の機能

  - [参考文档](https://help.salesforce.com/s/articleView?id=sf.external_object_relationships.htm&type=5)

  | RELATIONSHIP    | ALLOWED CHILD OBJECTS              | ALLOWED PARENT OBJECTS | PARENT FIELD FOR MATCHING RECORDS                            |
  | :-------------- | :--------------------------------- | :--------------------- | :----------------------------------------------------------- |
  | Lookup          | Standard<br />Custom<br />External | Standard<br />Custom   | The 18-character Salesforce record ID                        |
  | External lookup | Standard<br />Custom<br />External | External               | The External ID standard field                               |
  | Indirect lookup | External                           | Standard<br />Custom   | You select a custom field with the `External ID` and `Unique` attributes |

  - Lookup
    - ルックアップ検索条件と入力規則
      入力規則とルックアップ検索条件の目的は類似していますが、それぞれ異なる利点があります。次の目的でルックアップ検索条件を使用します。

      - ルックアップ検索ダイアログの選択可能なオプションの数を制限してユーザの効率を向上させる。
      - ユーザが手動で設定するルックアップ検索ダイアログの検索条件を自動化してユーザの効率を向上させる。
    - 次のような場合、入力規則を使用します。
      - 最大許容ルックアップ検索条件数に近づいている。
      - 数式を必要とする複雑なビジネスルールを実装する。数式では、ソースオブジェクトの親の項目など、基本的な検索条件では参照できないような項目を参照できます。数式では関数を使用することもできます。たとえば、レコードの作成時にのみルールを適用するには `ISNEW` を使用し、項目の変更時にのみルールを適用するには `ISCHANGED` を使用します。
  - External lookup
    - 外部参照関係は、親が外部オブジェクトの場合に使用します。
    - ルックアップ検索条件を使用できない
    - カスケード削除は、外部オブジェクトリレーションでは使用できない
  - Indirect lookup
    - 間接参照関係は、外部データに Salesforce レコード ID が含まれていない場合に使用します。
    - カスケード削除は、外部オブジェクトリレーションでは使用できない
    - 間接参照関係で親オブジェクトとして使用できるのは、外部ID および ユニーク 属性を 含むカスタム項目があるオブジェクトのみである。
  - 主従関係
    - [文档](https://help.salesforce.com/s/articleView?id=sf.relationships_considerations.htm&type=5)
    - 標準オブジェクトはカスタムオブジェクトの子にすることはできない
    - 変換したい参照項目が全てのレコードにおいてデータを保有している場合、参照関係か ら主従関係に変換することができる
    - 如果您的自定义对象中已经包含数据，则无法创建“主-详细信息”关系。
    - 选择允许重新设置父级选项后可重新选择父对象
    - 您最多可以有 3 个自定义详细信息等级。
    - 最好不要超过“主-详细信息”关系的 10,000 个子记录。
    - 多级“主-详细信息”
      - マルチレベル主従関係を作成する場合、[アプリケーションのカスタマイズ]権限が必要で ある。
      - 一个对象在多级“主-详细信息”关系中只能出现一次。
      - 多级“主-详细信息”关系不支持分部转移。

- レコードアクセス、

- ユーザインターフェース、

- レポート

##### 与えられたシナリオに従って、項目のデータ型を選択、変更する場合の考慮事項を明確にする

- 在将字段从一种类型转换为另一种类型之前，请注意以下注意事项：

  - 仅转换没有数据的自定义字段，否则您会遇到丢失数据的风险。更改现有自定义字段的数据类型会使数据在以下情况中丢失：

    - 更改为或自类型“日期”或“日期/时间”

    - 从任何其他类型更改为数字

    - 从任何其他类型更改为百分比

    - 从任何其他类型更改为币种

      - （桁数が同じ）数値から通貨にデータ型変換した時、データが失われません。

    - 从复选框更改为任何其他类型

    - 从选项列表（多选选项）更改为任何其他类型

    - 从任何其他类型更改为选项列表（多选选项）

      在您将选项列表更改为多选选项列表时，系统目前会保留定义的选项列表值。如果记录包含未在选项列表定义中的值，这些值会在数据类型更改时从这些记录中删除。

    - 从自动编号更改为任何其他类型

    - 从任何类型（但不包括文本）更改为自动编号

    - 从文本更改为选项列表

    - 从文本区域（长）更改为任何类型（但不包括电子邮件、手机、文本、文本区域或 URL）

  - 如果数据丢失，则根据自定义字段删除任何列表视图，而分配和升级规则也将会受到影响。

  - 您无法更改为潜在客户转换映射的任何自定义字段的数据类型。

  - 如果您更改设置为外部 ID 的自定义字段数据类型，选择数据类型（而不是文本、数字或电子邮件）会使字段无法用作外部 ID。

  - 更改自定义字段数据类型的选项对所有数据类型不可用。例如，现有的自定义字段不能转换为加密字段，加密字段也不能转换为其他数据类型。

  - 在 Salesforce Knowledge 文章类型中，文件字段类型无法转换为其他数据类型。

  - 您不能更改设置中其他项目（例如 Visualforce 页面、Apex 代码、流程或流）引用的自定义字段的数据类型。

  - 更改自定义字段类型可能需要一次更改许多记录。如果您的请求排队以高效地处理这些更改，您将在处理完成后收到一封电子邮件通知。

  - 更改自定义字段的类型之前，请确保它不是工作流字段更新的目标，也未被将在新类型下失效的字段更新公式所引用。

  - 如果您使用 Shield 平台加密加密自定义字段，便无法更改字段类型。

- 这些数据类型在转换时有其他限制：

  | 数据类型     | 说明                                                         |
  | :----------- | :----------------------------------------------------------- |
  | 自动编号     | 1. 如果您将自动编号字段转换为文本字段，该字段中的数据保持不变。<br />2. 此外，您可以安全地将文本自定义字段转换为自动编号字段，而不会使您的数据丢失。<br />3. 将自动编号字段转换为任何其他数据类型会使数据丢失。<br />4. 自动编号字段可以包含最多 30 个字符。在将文本自定义字段转换为自动编号字段前，更改在字段中包含超过 30 个字符的任何记录。 |
  | 公式         | 公式字段是无法转换为任何其他数据类型的特殊只读字段。同样地，您无法将任何其他字段类型转换为公式字段。 |
  | 选项列表     | 1. 将自定义选项列表更改为自定义复选框非常简便。<br />2. 如果将“复选框”选择为新数据类型，您可以选择将哪些选项列表值映射到选中的方框和未选中的方框。<br />3. 您可以将自定义选项列表更改为多选选项列表，而不会使数据丢失。<br />4. 在您的记录仅包含该选项列表的单个值后，仍会选择该值，但用户可以选择更多值。<br />5. 現在定義されている選択リスト値は維持される。<br />6. 選択リスト定義にない値がレコードに含まれる場合、データ型を変更するとそれらの値 はレコードから削除される。 |
  | 关系         | 1. 您可以将关系字段转换为非关系字段，反之亦然；但仅限外部对象。<br />2. 如果贵组织包含大量记录，Salesforce 会在您请求将主-详细信息更改为查找关系或将查找更改为主-详细信息关系后显示警告页面。<br />3. 在对象上创建了累计汇总字段后，不能将对象的主-详细信息关系转换为查找关系。<br />4. 如果对象上的任何记录为查找字段设置了空值，则不能将查找关系转换为主-详细信息关系。<br />5. 如果您为“详细信息”方面的自定义对象将主-详细信息关系转换为查找，该对象的默认组织范围会自动更新为“公用读取/写入”。<br />6. 同样地，将查找转换为主-详细信息关系会将组织范围的默认设置更改为“由父级控制”。<br />7. 主従関係を参照関係に変更する要求（もしくはその逆）を行うと、Salesforce により待 機中を示すページが表示されます。 |
  | 文本         | 默认情况下，每个字段的非活动无限制选项列表的上限为 4000。如果您在将文本字段转换为选项列表字段时超过此限制，您将收到错误消息。您不能将已定义的唯一文本字段转换为选项列表或多选选项列表。 |
  | 文本区（长） | 在您将长文本区字段转换为“电子邮件”、“手机”、“文本”、“文本区”或“URL”类型字段时，记录数据会截断为字段的前 255 个字符。 |
  | 文本区（富） | 您只可将富文本区域字段转换为长文本区域字段。下次保存长文本区域字段时，任何图像都会被删除。转换后，标记会隐藏在长文本区域字段中，但不会从记录中删除，因此如果您改变主意，可以在保存记录之前恢复标记。 |

##### スキーマビルダの機能と考慮事項を説明する

- 正确描述
  - すべてのオブジェクトと項目の関連の詳細を１画面で閲覧することができる。
  - 項目の値、必須項目、およびオブジェクトの関係などの詳細を見ることができる。
  - 新しいカスタムオブジェクト、カスタム項目を簡単に作成することができ、オブジェク トの関係を容易に閲覧・変更することができる。
- 不正确描述
  - カスタムオブジェクトの項目と関連は見ることができるが、標準オブジェクトの項目と 関連は見ることができない。

##### オプションと考慮事項を説明する

##### 与えられたシナリオに従って、外部データソースの機能を含むインポートおよびエクスポート時のオプションと考慮事項を説明する

